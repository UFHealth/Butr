!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Butr",[],t):"object"==typeof exports?exports.Butr=t():e.Butr=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0})},function(e,t,n){"use strict";n.r(t);n(0);var r={animating:!1,settings:{}},o=function(e,t){var n=null,r=performance.now();return function(){r+t-performance.now()<0&&(e(),r=performance.now()),n&&clearTimeout(n),n=setTimeout(e,t)}},i=function(e,t){var n=e.className+" "+t;e.className=n.trim()},a=function(e){return"number"==typeof e?e:parseInt(e.replace(/[^0-9\.]+/g,""))},u=function(e){var t,n,o,i=window.matchMedia("(prefers-reduced-motion)").matches,a=function(){if("#"===e.target[0]){var t=document.getElementById(e.target.substr(1)),n=t.getBoundingClientRect();if(t&&"x"===e.direction){var r=o.scrollLeft;return Math.max(n.left+r-e.scrollOffset,0)}if(t&&"y"===e.direction){var i=o.scrollTop;return Math.max(n.top+i-e.scrollOffset,0)}return 0}return e.target},u=function(t){"x"===e.direction&&(o.scrollLeft=t),"y"===e.direction&&(o.scrollTop=t)},s=function(){"function"==typeof e.afterTo&&e.afterTo()},l=function(){var i;t="x"===e.direction?o.scrollLeft:"y"===e.direction?o.scrollTop:void 0,(n=a())===t?s():function(e){var t,n,o,i=Object.assign({},{duration:800,loop:null,done:null,easing:"easeInOutQuad"},e),a=function e(){o=performance.now(),i.loop(u),o<n?requestAnimationFrame(e):(r.animating=!1,"function"==typeof i.done&&i.done())},u=function(e,t){return e+(t-e)*l[i.easing](s())},s=function(){return Math.min((o-t)/i.duration,1)},l={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};r.animating=!0,t=performance.now(),n=t+i.duration,a()}({duration:(i=n-t,1/e.speed*24*Math.sqrt(Math.abs(i))),loop:function(e){var r=e(t,n);u(r)},done:s})};o=e&&e.scrollingElement?document.querySelector(e.scrollingElement):document.scrollingElement||document.documentElement,i?u(a()):l(),e.keepHash&&"#"===e.target[0]&&history.pushState({},"",e.target)},s=function(){var e,t,n,a,u,s,l,c=r.settings,f=window.matchMedia("(prefers-reduced-motion)").matches,d=function(e){var n,r,o,a=document.querySelector(".js-butr-link.js-butr-active"),u=document.querySelector('.js-butr-link[href="'+e+'"]');u!==a&&(a&&(a.classList.remove("js-butr-active"),c.activeClass&&a.classList.remove(c.activeClass)),u&&(u.classList.add("js-butr-active"),c.activeClass&&i(u,c.activeClass),r=(n=u).offsetTop,"border-box"===(o=window.getComputedStyle(n)).getPropertyValue("box-sizing")&&(r-=Math.round(parseFloat(o.getPropertyValue("border-top-width"),10))),t.style.transform="translateY(".concat(r,"px)"),t.style.height="".concat(n.offsetHeight,"px")))},p=function(){e=n.scrollTop,function(){for(var t,n=0;n<s.length;n++)if(s[n]){if(s[n].getBoundingClientRect().top+e-c.scrollOffset-2>e){t||(t=s[n]);break}t=s[n]}t&&d("#"+t.id)}()},m=o((function(){r.animating||p()}),33);!function(){n=c.scrollingElement?document.querySelector(c.scrollingElement):document.scrollingElement||document.documentElement,l=document.querySelector(".js-butr-nav"),a=document.querySelectorAll(".js-butr-link"),u=document.querySelector(".js-butr-content"),s=[];for(var e=a.length-1;e>=0;e--)s.unshift(u.querySelector(a[e].getAttribute("href")))}(),(l&&a&&u||(console.error("Error: Missing required classes on nav or links. Aborted setup of Butr.marker"),0))&&(function(){(t=document.createElement("div")).classList.add("js-butr-marker"),c.markerClass&&i(t,c.markerClass),t.style.height=a[0].offsetHeight+"px";var e="cubic-bezier(0.455, 0.03, 0.515, 0.955)";f||(t.style.transition=["".concat(c.duration,"ms transform ").concat(e),"".concat(c.duration,"ms height ").concat(e)].join(",")),l.appendChild(t)}(),function(){for(var e=function(e){a[e].addEventListener("click",(function(t){d(a[e].hash)}))},t=0;t<a.length;t++)e(t)}(),p(),window.addEventListener("scroll",m))},l=function(){var e,t,n,o=r.settings,a=[],u=[a],s=0,l=function(e){return e.id||(e.id=function(e){for(var t=e.toLowerCase().replace(/\s+/g,"-").replace(/(\d)\./g,"$1-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""),n=t,r=0;document.getElementById(n);)n=t+"-"+ ++r;return n}(e.textContent)),"#"+e.id},c=function(e){return parseInt(e.tagName.substr(1))-s},f=function(e){return{label:e.textContent,hash:l(e),children:[]}},d=function(e){var t=document.createElement("li"),n=document.createElement("a");return n.href=e.hash,n.setAttribute("data-butr",!0),n.innerText=e.label,n.classList.add("js-butr-link"),o.aClass&&i(n,o.aClass),o.liClass&&i(t,o.liClass),t.appendChild(n),t};!function(){if(n=document.querySelector(".js-butr-nav"),e=document.querySelector(".js-butr-content"),t=e.querySelectorAll("h2, h3, h4, h5, h6"),n&&e&&t||(console.error("Error: Missing required classes on nav, content, or headings. Aborted setup of Butr.marker"),0)){!function(){for(var e=0;e<t.length;e++){var n=t[e],r=c(n),o=t[(l=e)+1]?parseInt(t[l+1].tagName.substr(1))-s:0,i=f(n);if(u[u.length-1].push(i),o)if(o>r)o-=s+=o-r-1,u.push(i.children);else if(o<r){o+=s;for(var a=0;a<r-o;a++)u.pop();s=0}}var l}();var r=function e(t){var n=document.createElement("ol");o.olClass&&i(n,o.olClass);for(var r=0;r<t.length;r++){var a=t[r],u=d(a);a.children.length&&u.appendChild(e(a.children)),n.appendChild(u)}return n}(a);o.prepend?n.insertBefore(r,n.firstElementChild):n.appendChild(r)}}()},c=function(){var e,t,n,i=r.settings,u=document.scrollingElement||document.documentElement,s=document.querySelector(".js-butr-nav"),l=s.offsetTop,c=i.avoid?document.querySelector(i.avoid):null,f=(e=function(){var e=window.getComputedStyle(s.parentNode),t=a(e.getPropertyValue("padding-right")),n=a(e.getPropertyValue("padding-left")),r=a(e.getPropertyValue("width"));s.style.maxWidth=r-n-t+"px"},t=250,function(){var r=this,o=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(r,o)}),t)}),d=function(){s.style.top=l+i.topBuffer+"px",s.style.position="fixed",s.style.bottom="auto"},p=o((function(){var e=getComputedStyle(s).position,t=s.getBoundingClientRect(),n=Math.ceil(t.bottom)+i.avoidBuffer;"fixed"===e?(u.scrollTop<l&&(s.style.position="relative",s.style.top="auto",s.style.bottom="auto"),u.scrollTop+n>=c.offsetTop&&(s.style.position="absolute",s.style.top="auto",s.style.bottom="0")):"absolute"===e?u.scrollTop<s.offsetTop&&d():"relative"===e&&u.scrollTop>=l&&d()}),33),m=function(){f(),p(),window.addEventListener("scroll",p),window.addEventListener("resize",p)};i.mediaQuery?matchMedia(i.mediaQuery).matches&&m():m()},f={target:0,direction:"y",keepHash:!0,speed:1,afterTo:null,scrollOffset:0,olClass:"Butr__Sidebar__List",liClass:"Butr__Sidebar__Item",aClass:"Butr__Sidebar__Link",scrollingElement:null,duration:320,markerClass:"Butr__Marker",activeClass:"Butr__Sidebar__Link--active",distanceTop:0,topBuffer:0,avoid:null,avoidBuffer:0,mediaQuery:!1},d={init:function(e){r.settings=Object.assign({},f,e),e.AutoSidebar&&l(),e.AutoAnchors&&function(){var e=document.body.querySelectorAll("a[data-butr]");if(!e.length)return!1;for(var t=0;t<e.length;t++)e[t].addEventListener("click",(function(e){e.preventDefault(),u({target:e.currentTarget.getAttribute("href"),direction:r.settings.direction,keepHash:r.settings.keepHash,speed:r.settings.speed,afterTo:r.settings.afterTo,scrollOffset:r.settings.scrollOffset})}))}(),e.Marker&&s(),e.StickyNav&&c()},to:u};t.default=d}]).default}));