!function(){"use strict";window.Butr||(window.Butr={}),Butr.marker=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=void 0,n=void 0,o=void 0,r=!0,i=!1,u=t.useTo||!1,c=t.duration||400,s=t.container||document.body,a=document.querySelector(".js-butr-nav"),l=document.querySelectorAll(".js-butr-link"),f=document.querySelectorAll(".js-butr-section"),d=function(t){return t.offsetTop-s.offsetTop+t.offsetHeight},m=function(t){o.style.transform="translateY("+t.offsetTop+"px)"},v=function(){for(var t=0;t<l.length;t++)!function(t){l[t].addEventListener("click",function(e){i=!0;var n=l[t].hash.replace("#","");p(n),u&&b(e,n)})}(t)},b=function(t,e){t.preventDefault(),Butr.to({location:document.getElementById(e).offsetTop,markerCallback:function(){i=!1}})},h=function(){for(var t=0;t<f.length;t++)if(d(f[t])>e){n!==f[t]&&(n=f[t],p(n.id));break}},p=function(t){var e=document.querySelector(".js-butr-link.js-butr-active"),n=document.querySelector('.js-butr-link[href="#'+t+'"]');n!==e&&(e&&e.classList.remove("js-butr-active"),n.classList.add("js-butr-active")),m(n)},y=function(){e=s.scrollTop,h()},j=function(){i||(r&&requestAnimationFrame(function(){y(),r=!0}),r=!1)};o=document.createElement("div"),o.classList.add("js-butr-marker"),o.style.height=l[0].offsetHeight+"px",o.style.transition=c+"ms transform cubic-bezier(0.455, 0.03, 0.515, 0.955)",a.appendChild(o),v(),y(),window.addEventListener("scroll",j)}}();
