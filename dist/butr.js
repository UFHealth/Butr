!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("butr",[],t):"object"==typeof exports?exports.butr=t():e.butr=t()}(window,function(){return(r={},o.m=n=[function(e,t){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},writable:!0,configurable:!0})},function(e,t,n){"use strict";n.r(t);n(0);function d(e,t){var n=null,r=performance.now();return function(){r+t-performance.now()<0&&(e(),r=performance.now()),n&&clearTimeout(n),n=setTimeout(e,t)}}function p(e,t){var n=e.className+" "+t;e.className=n.trim()}function m(e){return"number"==typeof e?e:parseInt(e.replace(/[^0-9\.]+/g,""))}function r(c){function f(){if("#"!==c.target[0])return c.target;var e=document.getElementById(c.target.substr(1)),t=e.getBoundingClientRect();if(e&&"x"===c.direction){var n=b.scrollLeft;return Math.max(t.left+n-c.scrollOffset,0)}if(e&&"y"===c.direction){var r=b.scrollTop;return Math.max(t.top+r-c.scrollOffset,0)}return 0}function d(e){"x"===c.direction&&(b.scrollLeft=e),"y"===c.direction&&(b.scrollTop=e)}function p(){"function"==typeof c.afterTo&&c.afterTo()}function e(){var e,t,n,r,o,i,a,u,s,l;m="x"===c.direction?b.scrollLeft:"y"===c.direction?b.scrollTop:void 0,(g=f())===m?p():(e={duration:(l=g-m,1/c.speed*24*Math.sqrt(Math.abs(l))),loop:function(e){var t=e(m,g);d(t)},done:p},o=Object.assign({},{duration:800,loop:null,done:null,easing:"easeInOutQuad"},e),i=function e(){r=performance.now(),o.loop(a),r<n?requestAnimationFrame(e):(v.animating=!1,"function"==typeof o.done&&o.done())},a=function(e,t){return e+(t-e)*s[o.easing](u())},u=function(){return Math.min((r-t)/o.duration,1)},s={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},v.animating=!0,t=performance.now(),n=t+o.duration,i())}var m,g,b,t=window.matchMedia("(prefers-reduced-motion)").matches;b=c&&c.scrollingElement?document.querySelector(c.scrollingElement):document.scrollingElement||document.documentElement,t?d(f()):e(),c.keepHash&&"#"===c.target[0]&&history.pushState({},"",c.target)}function o(){function e(){n=t.scrollTop,function(){for(var e,t=0;t<i.length;t++)if(i[t]){if(i[t].getBoundingClientRect().top+n-s.scrollOffset-2>n){e=e||i[t];break}e=i[t]}e&&c("#"+e.id)}()}var n,a,t,r,o,i,u,s=v.settings,l=window.matchMedia("(prefers-reduced-motion)").matches,c=function(e){var t,n,r,o=document.querySelector(".js-butr-link.js-butr-active"),i=document.querySelector('.js-butr-link[href="'+e+'"]');i!==o&&(o&&(o.classList.remove("js-butr-active"),s.activeClass&&o.classList.remove(s.activeClass)),i&&(i.classList.add("js-butr-active"),s.activeClass&&p(i,s.activeClass),n=(t=i).offsetTop,"border-box"===(r=window.getComputedStyle(t)).getPropertyValue("box-sizing")&&(n-=Math.round(parseFloat(r.getPropertyValue("border-top-width"),10))),a.style.transform="translateY(".concat(n,"px)"),a.style.height="".concat(t.offsetHeight,"px")))},f=d(function(){v.animating||e()},33);!function(){t=s.scrollingElement?document.querySelector(s.scrollingElement):document.scrollingElement||document.documentElement,u=document.querySelector(".js-butr-nav"),r=document.querySelectorAll(".js-butr-link"),o=document.querySelector(".js-butr-content"),i=[];for(var e=r.length-1;0<=e;e--)i.unshift(o.querySelector(r[e].getAttribute("href")))}(),u&&r&&o?(function(){(a=document.createElement("div")).classList.add("js-butr-marker"),s.markerClass&&p(a,s.markerClass),a.style.height=r[0].offsetHeight+"px";var e="cubic-bezier(0.455, 0.03, 0.515, 0.955)";l||(a.style.transition=["".concat(s.duration,"ms transform ").concat(e),"".concat(s.duration,"ms height ").concat(e)].join(",")),u.appendChild(a)}(),function(){for(var e=function(t){r[t].addEventListener("click",function(e){c(r[t].hash)})},t=0;t<r.length;t++)e(t)}(),e(),window.addEventListener("scroll",f)):console.error("Error: Missing required classes on nav or links. Aborted setup of Butr.marker")}function i(){function s(e){return e.id||(e.id=function(e){for(var t=e.toLowerCase().replace(/\s+/g,"-").replace(/(\d)\./g,"$1-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""),n=t,r=0;document.getElementById(n);)n=t+"-"+ ++r;return n}(e.textContent)),"#"+e.id}var t,l,n,c=v.settings,r=[],f=[r],d=0;!function(){if(n=document.querySelector(".js-butr-nav"),t=document.querySelector(".js-butr-content"),l=t.querySelectorAll("h2, h3, h4, h5, h6"),n&&t&&l||(console.error("Error: Missing required classes on nav, content, or headings. Aborted setup of Butr.marker"),0)){!function(){for(var e=0;e<l.length;e++){var t=l[e],n=parseInt(t.tagName.substr(1))-d,r=l[(u=e)+1]?parseInt(l[u+1].tagName.substr(1))-d:0,o={label:(a=t).textContent,hash:s(a),children:[]};if(f[f.length-1].push(o),r)if(n<r)r-=d+=r-n-1,f.push(o.children);else if(r<n){r+=d;for(var i=0;i<n-r;i++)f.pop();d=0}}var a,u}();var e=function e(t){var n,r,o,i=document.createElement("ol");c.olClass&&p(i,c.olClass);for(var a=0;a<t.length;a++){var u=t[a],s=(n=u,o=r=void 0,r=document.createElement("li"),(o=document.createElement("a")).href=n.hash,o.setAttribute("data-butr",!0),o.innerText=n.label,o.classList.add("js-butr-link"),c.aClass&&p(o,c.aClass),c.liClass&&p(r,c.liClass),r.appendChild(o),r);u.children.length&&s.appendChild(e(u.children)),i.appendChild(s)}return i}(r);c.prepend?n.insertBefore(e,n.firstElementChild):n.appendChild(e)}}()}function a(){function r(){s.style.top=l+a.topBuffer+"px",s.style.position="fixed",s.style.bottom="auto"}function e(){t(),f(),window.addEventListener("scroll",f),window.addEventListener("resize",f)}var n,o,i,a=v.settings,u=document.scrollingElement||document.documentElement,s=document.querySelector(".js-butr-nav"),l=s.offsetTop,c=a.avoid?document.querySelector(a.avoid):null,t=(n=function(){var e=window.getComputedStyle(s.parentNode),t=m(e.getPropertyValue("padding-right")),n=m(e.getPropertyValue("padding-left")),r=m(e.getPropertyValue("width"));s.style.maxWidth=r-n-t+"px"},o=250,function(){var e=this,t=arguments;clearTimeout(i),i=setTimeout(function(){n.apply(e,t)},o)}),f=d(function(){var e=getComputedStyle(s).position,t=s.getBoundingClientRect(),n=Math.ceil(t.bottom)+a.avoidBuffer;"fixed"===e?(u.scrollTop<l&&(s.style.position="relative",s.style.top="auto",s.style.bottom="auto"),u.scrollTop+n>=c.offsetTop&&(s.style.position="absolute",s.style.top="auto",s.style.bottom="0")):"absolute"===e?u.scrollTop<s.offsetTop&&r():"relative"===e&&u.scrollTop>=l&&r()},33);a.mediaQuery?matchMedia(a.mediaQuery).matches&&e():e()}var v={animating:!1,settings:{}},u={target:0,direction:"y",keepHash:!0,speed:1,afterTo:null,scrollOffset:0,olClass:"Butr__Sidebar__List",liClass:"Butr__Sidebar__Item",aClass:"Butr__Sidebar__Link",scrollingElement:null,duration:320,markerClass:"Butr__Marker",activeClass:"Butr__Sidebar__Link--active",distanceTop:0,topBuffer:0,avoid:null,avoidBuffer:0,mediaQuery:!1};window.Butr={init:function(e){v.settings=Object.assign({},u,e),e.AutoSidebar&&i(),e.AutoAnchors&&function(){var e=document.body.querySelectorAll("a[data-butr]");if(!e.length)return;for(var t=0;t<e.length;t++)e[t].addEventListener("click",function(e){e.preventDefault(),r({target:e.currentTarget.getAttribute("href"),direction:v.settings.direction,keepHash:v.settings.keepHash,speed:v.settings.speed,afterTo:v.settings.afterTo,scrollOffset:v.settings.scrollOffset})})}(),e.Marker&&o(),e.StickyNav&&a()},to:r}}],o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)).default;function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,r});